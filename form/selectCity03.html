<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
</head>
<body>
<div class="select container">
  <div class="select-content">
    <a class="select-title">请选择</a>
  </div>
  <div class="select-content">
    <a class="select-title">请选择</a>
  </div>
  <div class="select-content">
    <a class="select-title">请选择</a>
  </div>
</div>
<script>
  var arr = [
    {name:"安徽",childName: [{
                name:"宿州",childName:[{name:"墉桥"},{name:"泗县"},{name:"灵璧"},{name:"萧县"},{name:"砀山"},{name:"其他"}]
            }, {
      name: "安庆",
      childName: [{name:"大观"}, {name:"迎江"}, {name:"宜秀"}, {name:"桐城"}, {name:"枞阳"}, {name:"怀宁"}, {name:"潜山"}, {name:"宿松"}, {name:"岳西"}, {name:"其他"}]
    }]
  },
  {name:"浙江",childName:
          [{
              name:"杭州",childName:[{name:"西湖"},{name:"拱墅"},{name:"江干"},{name:"下城"},{name:"上城"},{name:"余杭"},{name:"萧山"},{name:"滨江"},{name:"建德"},{name:"富阳"},{name:"临安"},{name:"桐庐"},{name:"淳安"},{name:"杭州周边"}]
          },
  {
    name: "宁波", childName
  :
    [{name: "海曙"}, {name: "江东"}, {name: "江北"}, {name: "鄞州"}, {name: "北仑"}, {name: "镇海"}, {name: "高新区"}, {name: "余姚"}, {name: "慈溪"}, {name: "象山"}, {name: "奉化"}, {name: "桐庐"}, {name: "宁海"}, {name: "宁波周边"}]
  }
  ]
  }];

  var expand =$("<ul>").addClass("expand list-inline").hide().appendTo(document.body);

  $(".select").on("click",".select-content",function(e){
    e.stopPropagation();
    var _self = $(this);
    //生成列表
    //找到每一级下拉内容
    var arr1 = arr;
    $.each(_self.prevAll().get().reverse(), function(i, el){
      if($(el).attr("data-selected") != undefined){
        arr1 = arr1[$(el).attr("data-selected")].childName;
      }
    }); //prevAll()从最近的开始找元素,所以说反序，加了reverse(),get()把它换成数组，换成普通数组的遍历
    expand.empty();
    //创建下拉元素
    $.each(arr1,function(idx,v){
      $("<li>").append($("<a>")
        .html(v.name))
        .attr("data-idx",idx)
        .appendTo(expand);
    });
    _self.append(expand.show());
  });

  expand.on("click","li",function(e){
    e.stopPropagation();
    var _self = $(this);
    var parentBtn = _self.parents(".select-content");
    //把选中的索引给按钮
    parentBtn.attr("data-selected",_self.attr("data-idx"));
    parentBtn.children(".select-title").html(_self.text());
    expand.hide();
    if(parentBtn.next().size()){
      parentBtn.next().trigger("click");
      parentBtn.nextAll().each(function(i,el){
        $(el).children(".select-title").html("请选择");
      });
    }
  });

  $(document).on("click",function(){
    expand.hide();
  });
</script>
</body>
</html>