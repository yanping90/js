<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
</head>
<body>
<div class="select container">
</div>
<script>
  var arr = [
    {name:"安徽",childName:
            [{
                name:"宿州",childName:[{name:"墉桥"},{name:"泗县"},{name:"灵璧"},{name:"萧县"},{name:"砀山"},{name:"其他"}]
            }, {
      name: "安庆",
      childName: [{name:"大观"}, {name:"迎江"}, {name:"宜秀"}, {name:"桐城"}, {name:"枞阳"}, {name:"怀宁"}, {name:"潜山"}, {name:"宿松"}, {name:"岳西"}, {name:"其他"}]
    }]
  },
  {name:"浙江",childName:
          [{
              name:"杭州",childName:[{name:"西湖"},{name:"拱墅"},{name:"江干"},{name:"下城"},{name:"上城"},{name:"余杭"},{name:"萧山"},{name:"滨江"},{name:"建德"},{name:"富阳"},{name:"临安"},{name:"桐庐"},{name:"淳安"},{name:"杭州周边"}]
          },
  {
    name: "宁波", childName
  :
    [{name: "海曙"}, {name: "江东"}, {name: "江北"}, {name: "鄞州"}, {name: "北仑"}, {name: "镇海"}, {name: "高新区"}, {name: "余姚"}, {name: "慈溪"}, {name: "象山"}, {name: "奉化"}, {name: "桐庐"}, {name: "宁海"}, {name: "宁波周边"}]
  }
  ]
  }];
  //三级联动下拉菜单
  //按钮点击事件 1.显示下拉弹出层
  //下拉弹出层点击事件 1.点击弹出层列表项给一级按钮，然后判断该项有没有下一级，有的话，展示下拉弹出层内容。

  //先创建一级元素
  var selectContent;
  var createOpt = function(){
      selectContent = $("<div>").appendTo($(".select")).addClass("select-content");
      $("<a>").appendTo(selectContent).html("请选择").addClass("select-title");
  };
  //创建一个下拉弹出层
  var expand = $("<ul>").appendTo(document.body).addClass("expand").addClass("list-inline").hide();
  createOpt();
  //按钮点击事件 1.显示下拉弹出层
    $(".select").on("click","a",function(){
        //显示下拉弹出层
        var _self = $(this);
        window._self = _self;
        expand.show().empty();
        for(var i=0;i<arr.length;i++){
            $("<a>").appendTo($("<li>").appendTo(expand.appendTo(selectContent))).html(arr[i].name).attr("value",i);
        }
    });
  //下拉弹出层点击事件 1.点击弹出层列表项给一级按钮，然后判断该项有没有下一级，有的话，展示下拉弹出层内容。
    expand.on("click","li",function(){
        var _self = $(this);
        window._self = _self;
        var idxOne =Number(_self.children().attr("value"));
        $(".select-title").html(_self.children().html()).attr("value",_self.children().attr("value"));
        if(arr[idxOne].childName.length != 0){
            createOpt();
            expand.empty();
            expand.appendTo($(".select-content").next());
            expand.show();
            //显示下拉弹出层
            for(var j=0;j<arr[idxOne].childName.length;j++){
                var liEle = $("<a>").appendTo($("<li>").appendTo(expand)).html(arr[idxOne].childName[j].name).attr("value",j);
            }
        }
    });

    /**$(document).on("click",function(){
        expand.hide();
    });
    $(".select").on("click",function(e){
        e.stopPropagation();
    });**/
</script>
</body>
</html>